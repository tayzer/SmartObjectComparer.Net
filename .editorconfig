root = true

# Core settings
[*.{cs,csproj,sln}]
end_of_line = crlf
charset = utf-8
insert_final_newline = true
trim_trailing_whitespace = true
indent_style = space
indent_size = 4

[*.cs]
dotnet_sort_system_directives_first = true
dotnet_style_qualification_for_field = false:suggestion
dotnet_style_qualification_for_property = false:suggestion
dotnet_style_qualification_for_method = false:suggestion
dotnet_style_qualification_for_event = false:suggestion

# Using placement (outside namespace)
dotnet_style_require_usings_inside_namespace = false:warning

# Suppress specific StyleCop rules that conflict with our chosen conventions
# - SA1200: we prefer usings outside the namespace
# - SA1101: we do not require `this.` prefix on members
# - SA1600: XML documentation is not required on tests and many internal helpers
dotnet_diagnostic.SA1200.severity = none
dotnet_diagnostic.SA1101.severity = none
dotnet_diagnostic.SA1600.severity = none

# Namespace style (prefer file-scoped)
csharp_style_namespace_declarations = file_scoped:suggestion

# var style (always)
csharp_style_var_for_built_in_types = true:warning
csharp_style_var_when_type_is_apparent = true:warning
csharp_style_var_elsewhere = true:warning

# Brace style (Allman/new line)
csharp_new_line_before_open_brace = all:warning

# Expression-bodied members (only when single line)
csharp_style_expression_bodied_methods = when_on_single_line:suggestion
csharp_style_expression_bodied_properties = when_on_single_line:suggestion

# Pattern matching preference
csharp_style_pattern_matching_over_is_with_cast_check = true:suggestion

# Null-check preference
csharp_style_prefer_is_null_check_over_reference_equality_method = true:suggestion

# Private fields naming: camelCase (no underscore)
dotnet_naming_rule.private_fields_camel_case.severity = suggestion
dotnet_naming_rule.private_fields_camel_case.symbols = private_fields
dotnet_naming_rule.private_fields_camel_case.style = camel_case_style

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private

dotnet_naming_style.camel_case_style.capitalization = camel_case

# General section
[*]
charset = utf-8
indent_style = space
indent_size = 4
trim_trailing_whitespace = true
insert_final_newline = true
